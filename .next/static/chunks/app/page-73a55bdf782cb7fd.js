(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8266:function(e,a,s){Promise.resolve().then(s.bind(s,2433))},2433:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return Home}});var t=s(7437),r=s(2265),l=s(4033),n=s(9311);let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...r})});i.displayName="Card";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});d.displayName="CardHeader";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("h3",{ref:a,className:(0,n.cn)("font-semibold leading-none tracking-tight",s),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",s),...r})});m.displayName="CardContent";let f=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})});f.displayName="CardFooter";let CountryElement=e=>{let{country:a}=e,s=(0,l.useRouter)(),n=(0,r.useMemo)(()=>a?a.population.toLocaleString("en-EN"):null,[a]);return(0,t.jsxs)(i,{className:"w-full mx-auto dark:bg-dark dark:border-none hover:scale-105 transition cursor-pointer",onClick:()=>s.push("/".concat(a.name)),children:[(0,t.jsxs)(d,{className:"p-0",children:[(0,t.jsx)(o,{children:(0,t.jsx)("img",{src:a.flags.png,alt:a.name,className:"w-full rounded-t-lg"})}),(0,t.jsx)(c,{className:"text-black dark:text-white",children:(0,t.jsx)("h2",{className:"text-xl py-2 pt-5 ml-11 font-bold",children:a.name})})]}),(0,t.jsx)(m,{children:(0,t.jsxs)("div",{className:"my-3 mx-5 flex flex-col gap-1 justify-center",children:[(0,t.jsxs)("span",{className:"flex gap-1 font-light",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Population:"})," ",n]}),(0,t.jsxs)("span",{className:"flex gap-1 font-light",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Region:"})," ",a.region]}),(0,t.jsxs)("span",{className:"flex gap-1 font-light",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Capital:"})," ",a.capital]})]})})]})},Countries=e=>{let{countries:a,filteredCountries:s}=e;return(0,t.jsx)("div",{className:"grid justify-center grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:m-5 gap-10",children:s.length?null==s?void 0:s.map(e=>(0,t.jsx)(CountryElement,{country:e},e.name)):null==a?void 0:a.map(e=>(0,t.jsx)(CountryElement,{country:e},e.name))})};var u=s(1641),p=s(9394),x=s(3425);let h=x.fC;x.ZA;let g=x.B4,N=r.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(x.xz,{ref:a,className:(0,n.cn)("flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),...l,children:[r,(0,t.jsx)(x.JO,{asChild:!0,children:(0,t.jsx)(p.jnn,{className:"h-4 w-4 opacity-50"})})]})});N.displayName=x.xz.displayName;let j=r.forwardRef((e,a)=>{let{className:s,children:r,position:l="popper",...i}=e;return(0,t.jsx)(x.h_,{children:(0,t.jsx)(x.VY,{ref:a,className:(0,n.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...i,children:(0,t.jsx)(x.l_,{className:(0,n.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r})})})});j.displayName=x.VY.displayName;let b=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(x.__,{ref:a,className:(0,n.cn)("px-2 py-1.5 text-sm font-semibold",s),...r})});b.displayName=x.__.displayName;let y=r.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(x.ck,{ref:a,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,t.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(x.wU,{children:(0,t.jsx)(p.nQG,{className:"h-4 w-4"})})}),(0,t.jsx)(x.eT,{children:r})]})});y.displayName=x.ck.displayName;let w=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(x.Z0,{ref:a,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",s),...r})});w.displayName=x.Z0.displayName;var v=s(6743),C=s(6061);let k=(0,C.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),R=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(v.f,{ref:a,className:(0,n.cn)(k(),s),...r})});R.displayName=v.f.displayName;var _=s(1827);let E=r.forwardRef((e,a)=>{let{className:s,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...l})});function Home(){let[e,a]=(0,r.useState)(!0),[s,l]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),d=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/countries"),a=await e.json();l(a)}catch(e){console.log(e)}a(!1)},[]);(0,r.useEffect)(()=>{let e=setTimeout(()=>{d()},1e3);return()=>clearTimeout(e)},[d]);let filterCountriesRegion=e=>s.filter(a=>a.region.toLowerCase().includes(e.toLowerCase())),filterCountriesName=e=>s.filter(a=>a.name.toLowerCase().includes(e.toLowerCase()));return(0,t.jsxs)("main",{className:"",children:[(0,t.jsxs)("div",{className:"static md:flex md:justify-between md:items-center xl:mx-20 mx-5 my-10",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(R,{className:"absolute top-4 left-4",children:(0,t.jsx)(_.Z,{size:24})}),(0,t.jsx)(E,{className:"dark:bg-dark bg-light rounded-lg p-7 px-12 lg:w-[500px]",placeholder:"Search for a country...",onChange:e=>i(filterCountriesName(e.target.value))})]}),(0,t.jsx)("div",{className:"md:m-0 my-5",children:(0,t.jsxs)(h,{onValueChange:e=>{i(filterCountriesRegion(e))},children:[(0,t.jsx)(N,{className:"p-7 dark:bg-dark bg-light md:w-[300px] w-[250px] rounded-lg",children:(0,t.jsx)(g,{placeholder:"Filter by Region"})}),(0,t.jsxs)(j,{children:[(0,t.jsx)(y,{className:"p-3",value:"africa",children:"Africa"}),(0,t.jsx)(y,{className:"p-3",value:"america",children:"America"}),(0,t.jsx)(y,{className:"p-3",value:"asia",children:"Asia"}),(0,t.jsx)(y,{className:"p-3",value:"europe",children:"Europe"}),(0,t.jsx)(y,{className:"p-3",value:"oceania",children:"Oceania"})]})]})})]}),e?(0,t.jsx)("div",{className:"flex justify-center items-center",children:(0,t.jsx)(u.Z,{size:200,color:"#3bc04b",loading:e})}):(0,t.jsx)(Countries,{countries:s,filteredCountries:n})]})}E.displayName="Input"},9311:function(e,a,s){"use strict";s.d(a,{cn:function(){return cn}});var t=s(7042),r=s(3986);function cn(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.m)((0,t.W)(a))}}},function(e){e.O(0,[310,344,629,221,971,864,744],function(){return e(e.s=8266)}),_N_E=e.O()}]);